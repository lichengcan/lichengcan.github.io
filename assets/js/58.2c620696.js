(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{475:function(e,t,r){"use strict";r.r(t);var a=r(2),s=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"_1-随便聊聊"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-随便聊聊"}},[e._v("#")]),e._v(" 1 随便聊聊")]),e._v(" "),t("blockquote",[t("p",[e._v("有一个项目前端直接调第三方接口时跨域了，这个需要后端来代理或转发一下，之前我是没有跟这个项目有任何接触的，然后被通知开个后端服务转发一下这个接口，然后部署到xxx服务器上，于是我就照做完了，前端因为这几天没有空，所以等前端测试时已经过了一个星期，前端测我的转发后的接口发现500，于是乎让他telnet xxx 8081 不通，但是我部署后看了下防火墙是关闭的，然后和同时沟通了一下，这里在服务器外层套了一个堡垒机，把端口都封掉了，只开放了nginx的80端口，所以我这个服务需要用nginx 代理出去。")])]),e._v(" "),t("h4",{attrs:{id:"nginx代理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx代理"}},[e._v("#")]),e._v(" nginx代理")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("location /openUrl {\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-Ip $remote_addr;\n        proxy_set_header X-Forwarded-For $remote_addr;\n        proxy_pass http://xxx:8081/openUrl;   \n}\n")])])]),t("h4",{attrs:{id:"转码服务代理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#转码服务代理"}},[e._v("#")]),e._v(" 转码服务代理")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('location /stream-transfer/ {\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-Ip $remote_addr;\n            proxy_set_header X-Forwarded-For $remote_addr;\n            proxy_set_header Upgrade $http_upgrade;\n            proxy_set_header Connection "upgrade";\n            proxy_pass http://10.11.56.7:8038/stream-transfer/;\n        }\n')])])])])}),[],!1,null,null,null);t.default=s.exports}}]);