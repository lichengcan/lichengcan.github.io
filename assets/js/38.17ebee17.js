(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{454:function(a,t,n){"use strict";n.r(t);var e=n(2),s=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h3",{attrs:{id:"_1-transactional注解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-transactional注解"}},[a._v("#")]),a._v(" 1 @Transactional注解")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("对所有的异常进行回滚\n@Transactional(rollbackFor = Exception.class)\n对SQL异常进行回滚\n@Transactional(SQLException = Exception.class)\n")])])]),t("h3",{attrs:{id:"_2-异常捕获、处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-异常捕获、处理"}},[a._v("#")]),a._v(" 2 异常捕获、处理")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("       try {\n        //可能发生异常\n       \tCamera camera = getData();\n       \t//清空表\n        cameraMapper.deleteAll();\n        //新增\n        cameraMapper.insertSelective(camera);\n      }catch (Exception e) {\n            // 捕获异常后手动标记事务为回滚状态\n            TransactionAspectSupport.currentTransactionStatus().setRollbackOnly();\n            // 可以选择记录日志或者其他处理\n       }\n")])])])])}),[],!1,null,null,null);t.default=s.exports}}]);