(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{497:function(s,t,a){"use strict";a.r(t);var e=a(2),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"一、linux安装mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、linux安装mysql"}},[s._v("#")]),s._v(" 一、Linux安装MySQL")]),s._v(" "),t("h2",{attrs:{id:"_1-linux在线安装mysql5-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-linux在线安装mysql5-7"}},[s._v("#")]),s._v(" 1 Linux在线安装MySQL5.7")]),s._v(" "),t("h4",{attrs:{id:"_1-1-删除已有的相关包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-删除已有的相关包"}},[s._v("#")]),s._v(" 1.1 删除已有的相关包")]),s._v(" "),t("p",[s._v("在安装前需要确定现在这个系统有没有 MySQL，如果有那么必须卸载。尤其是新的 CentOS 7 系统，它自带mariaDB数据库，所以需要卸载掉。")]),s._v(" "),t("p",[s._v("查找已安装的MySQL软件包：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("rpm -qa|grep mysql\n")])])]),t("h4",{attrs:{id:"_1-2-centos7下还需要查找是否存在mariadb包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-centos7下还需要查找是否存在mariadb包"}},[s._v("#")]),s._v(" 1.2 CentOS7下还需要查找是否存在mariadb包：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("rpm -qa|grep mariadb\n")])])]),t("p",[s._v("如果输入上述两个命令后都输出存在有包，则需要执行删除命令。\n例如，前两步中终端输出了“mysql-libs-5.1.73-1.el6.x86_64”和“mariadb-libs-5.5.56-2.el7.x86_64”，则：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("rpm -e --nodeps mysql-libs-5.1.73-1.el6.x86_64\nrpm -e --nodeps mariadb-libs-5.5.56-2.el7.x86_64\n")])])]),t("h4",{attrs:{id:"_1-2-提升权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-提升权限"}},[s._v("#")]),s._v(" 1.2 提升权限")]),s._v(" "),t("p",[s._v("由于 MySQL 安装过程中，会通过 MySQL 用户在 /tmp 目录下新建 tmp_db 文件，所以需要给 /tmp 目录较大的权限：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("chmod -R 777 /tmp\n")])])]),t("h4",{attrs:{id:"_1-3-检查依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-检查依赖"}},[s._v("#")]),s._v(" 1.3 检查依赖")]),s._v(" "),t("p",[s._v("这一步需要检查系统中是否存在一些安装MySQL时需要的依赖库。因为考虑到大家有些是在虚拟机上安装的Linux系统。如果安装系统的时候用的是最小安装等原因，可能就不存在这些库。")]),s._v(" "),t("p",[s._v("执行两个查询命令看是否存在依赖库：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("rpm -qa|grep libaio\nrpm -qa|grep net-tools\n如果不存在则需要安装：\nyum -y install libaio net-tools\n")])])]),t("h2",{attrs:{id:"_2-准备好安装包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-准备好安装包"}},[s._v("#")]),s._v(" 2 准备好安装包")]),s._v(" "),t("p",[s._v("MySQL "),t("a",{attrs:{href:"https://www.aliyundrive.com/s/fsocxcMDDQT",target:"_blank",rel:"noopener noreferrer"}},[s._v("阿里云盘"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql-community-common-5.7.16-1.el6.x86_64.rpm\nmysql-community-libs-5.7.16-1.el6.x86_64.rpm\nmysql-community-client-5.7.16-1.el6.x86_64.rpm\nmysql-community-server-5.7.16-1.el6.x86_64.rpm\n")])])]),t("p",[s._v("这 4 个安装包通过 Xtfp 复制到 /opt下：")]),s._v(" "),t("h3",{attrs:{id:"_3-开始安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-开始安装"}},[s._v("#")]),s._v(" 3 开始安装")]),s._v(" "),t("p",[s._v("使用 rpm 命令按顺序依次安装 4 个包：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("rpm -ivh mysql-community-common-5.7.16-1.el7.x86_64.rpm \nrpm -ivh mysql-community-libs-5.7.16-1.el7.x86_64.rpm\nrpm -ivh mysql-community-client-5.7.16-1.el7.x86_64.rpm \nrpm -ivh mysql-community-server-5.7.16-1.el7.x86_64.rpm\n\n")])])]),t("p",[s._v('执行 " mysqladmin –version " 命令，类似 " java -version " 如果输出版本消息，即为安装成功。')]),s._v(" "),t("h4",{attrs:{id:"_4-相应配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-相应配置"}},[s._v("#")]),s._v(" 4 相应配置")]),s._v(" "),t("h4",{attrs:{id:"_4-1-初始化-mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-初始化-mysql"}},[s._v("#")]),s._v(" 4.1 初始化 MySQL")]),s._v(" "),t("p",[s._v("MySQL 5.7下载完后需要手动初始化：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysqld --initialize --user=mysql\n")])])]),t("h4",{attrs:{id:"_4-2-查看密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-查看密码"}},[s._v("#")]),s._v(" 4.2 查看密码")]),s._v(" "),t("p",[s._v("查看并记住初始密码，“root@localhost:” 后面的就是初始化密码，要记下来，后面连接数据库会用到。")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cat /var/log/mysqld.log | tail -n 10\n")])])]),t("h4",{attrs:{id:"_4-3-启动-mysql-服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-启动-mysql-服务"}},[s._v("#")]),s._v(" 4.3 启动 MySQL 服务")]),s._v(" "),t("p",[s._v("启动服务")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl start mysqld.service\n")])])]),t("p",[s._v("启动MySQL报错")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('service mysqld start\nRedirecting to /bin/systemctl start mysqld.service\nJob for mysqld.service failed because the control process exited with error code. See "systemctl status mysqld.service" and "journalctl -xe" for details.\n')])])]),t("p",[s._v("journalctl -xe 分析错误")]),s._v(" "),t("p",[s._v("解决方法")]),s._v(" "),t("blockquote",[t("p",[s._v("chown mysql:mysql -R /var/lib/mysql")])]),s._v(" "),t("h4",{attrs:{id:"_4-4-关闭服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-关闭服务"}},[s._v("#")]),s._v(" 4.4 关闭服务")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl stop mysqld.service\n")])])]),t("h4",{attrs:{id:"_4-5查看服务状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-5查看服务状态"}},[s._v("#")]),s._v(" 4.5查看服务状态")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl status mysqld\n")])])]),t("h4",{attrs:{id:"_4-6-查看服务是否自启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-查看服务是否自启动"}},[s._v("#")]),s._v(" 4.6 查看服务是否自启动")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl list-unit-files|grep mysqld.service\n")])])]),t("h4",{attrs:{id:"_4-7-设置自启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-设置自启动"}},[s._v("#")]),s._v(" 4.7 设置自启动")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl enable mysqld.sercice\n")])])]),t("h4",{attrs:{id:"_4-8-首次登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-首次登录"}},[s._v("#")]),s._v(" 4.8 首次登录")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql -uroot -p\n")])])]),t("h4",{attrs:{id:"_4-9-修改密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-9-修改密码"}},[s._v("#")]),s._v(" 4.9 修改密码")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ALTER USER 'root'@'localhost' IDENTIFIED BY 'new_password';\n")])])]),t("h4",{attrs:{id:"_4-10-重启mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-10-重启mysql"}},[s._v("#")]),s._v(" 4.10 重启MySQL")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl restart mysqld\n")])])]),t("blockquote",[t("p",[s._v("https://blog.csdn.net/qq_43280818/article/details/115625306 参考链接")])]),s._v(" "),t("h3",{attrs:{id:"_5-配置-etc-my-conf"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-配置-etc-my-conf"}},[s._v("#")]),s._v(" 5 配置/etc/my.conf")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bind-address=192.168.104.128\nport=3308\n")])])]),t("h3",{attrs:{id:"修改本地root密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改本地root密码"}},[s._v("#")]),s._v(" 修改本地root密码")]),s._v(" "),t("ul",[t("li",[s._v("mysql安装完成之后，在/var/log/mysqld.log文件中给root生成了一个默认密码。通过以下命令找到密码：")])]),s._v(" "),t("p",[s._v("sudo grep 'temporary password' /var/log/mysqld.log")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/lichengcan/images/main/Snipaste_2023-10-25_16-43-34.jpg",alt:""}})]),s._v(" "),t("ul",[t("li",[s._v("登录MySQL，记得使用刚才找到的密码")])]),s._v(" "),t("p",[s._v("mysql -u root -p")]),s._v(" "),t("ul",[t("li",[s._v("设置新密码")])]),s._v(" "),t("p",[s._v("set password for 'root'@'localhost'=password('MyNewPass4!');")]),s._v(" "),t("ul",[t("li",[s._v("修改root账户名")])]),s._v(" "),t("p",[s._v("update mysql.user set user = 'myRoot' where user = 'root';")]),s._v(" "),t("ul",[t("li",[s._v("修改远程登录密码")])]),s._v(" "),t("p",[s._v("GRANT ALL PRIVILEGES ON "),t("em",[s._v(".")]),s._v(" TO 'myRoot'@'%' IDENTIFIED BY 'myRoot用户的密码' WITH GRANT OPTION;")]),s._v(" "),t("ul",[t("li",[s._v("刷新MySQL的系统权限相关表，否则会出现拒绝访问")])]),s._v(" "),t("p",[s._v("flush privileges;")]),s._v(" "),t("h2",{attrs:{id:"二、linux离线安装mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、linux离线安装mysql"}},[s._v("#")]),s._v(" 二、Linux离线安装MySQL")]),s._v(" "),t("p",[s._v("linux 离线安装MySQL")]),s._v(" "),t("h4",{attrs:{id:"_1-卸载centos7系统自带mariadb"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-卸载centos7系统自带mariadb"}},[s._v("#")]),s._v(" "),t("strong",[s._v("1） 卸载CentOS7系统自带mariadb")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看系统自带的Mariadb")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rpm -qa|grep mariadb")]),s._v("\nmariadb-libs-5.5.64-1.el7.x86_64\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 卸载系统自带的Mariadb")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rpm -e --nodeps mariadb-libs-5.5.64-1.el7.x86_64")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除etc目录下的my.cnf(如果有就删除,可以执行试一下,没有会提示你的)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rm /etc/my.cnf")]),s._v("\n")])])]),t("h4",{attrs:{id:"_2-检查mysql是否存在"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-检查mysql是否存在"}},[s._v("#")]),s._v(" "),t("strong",[s._v("2） 检查mysql是否存在")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查是否已经安装")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rpm -qa | grep mysql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果什么都没有返回 空的 说明啥也没安 可以继续安装")]),s._v("\n")])])]),t("h4",{attrs:{id:"_3-检查mysql的用户和组是否存在如果不存在就创建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-检查mysql的用户和组是否存在如果不存在就创建"}},[s._v("#")]),s._v(" "),t("strong",[s._v("3） 检查mysql的用户和组是否存在如果不存在就创建")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查有没有mysql用户")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /etc/passwd | grep mysql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查有没有mysql组")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /etc/group | grep mysql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询全部用户")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# cat /etc/passwd|grep -v nologin|grep -v halt|grep -v shutdown|awk -F ":" \'{print $1 "|" $3 "1" $4}\' | more')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果不存在就创建mysql用户")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建mysql用户组")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# groupadd mysql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建一个用户名为mysql的用户，并加入mysql用户组")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# useradd -g mysql mysql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置mysql的密码 000000")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# passwd mysql")]),s._v("\n更改用户 mysql 的密码 。\n新的 密码：\n无效的密码： 密码是一个回文\n重新输入新的 密码：\npasswd：所有的身份验证令牌已经成功更新。\n")])])]),t("h4",{attrs:{id:"_4-下载mysql的离线安装包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-下载mysql的离线安装包"}},[s._v("#")]),s._v(" "),t("strong",[s._v("4） 下载MySQL的离线安装包")])]),s._v(" "),t("p",[s._v("官网下载地址：https://dev.mysql.com/downloads/mysql/5.7.html#downloads")]),s._v(" "),t("p",[s._v("版本选择，可以选择一下两种方式：")]),s._v(" "),t("p",[s._v("1）使用Red Hat Enterprise Linux")]),s._v(" "),t("p",[s._v("Select Version: "),t("strong",[s._v("5.7.*")]),s._v(" (因为更新的缘故具体细节版本可自行查看)")]),s._v(" "),t("p",[s._v("Select Operating System: "),t("strong",[s._v("Red Hat Enterprise Linux / Oracle Linux")])]),s._v(" "),t("p",[s._v("Select OS Version: "),t("strong",[s._v("Red Hat Enterprise Linux 7 / Oracle Linux 7 (x86, 64-bit)")])]),s._v(" "),t("p",[s._v("列表中下载：")]),s._v(" "),t("p",[s._v("Compressed TAR Archive：(mysql-5.7.25-el7-x86_64.tar.gz) 【本文中使用的是这个版本】")]),s._v(" "),t("p",[s._v("2）使用Linux - Generic")]),s._v(" "),t("p",[s._v("Select Version: "),t("strong",[s._v("5.7.*")]),s._v(" (因为更新的缘故具体细节版本可自行查看)")]),s._v(" "),t("p",[s._v("Select Operating System: "),t("strong",[s._v("Linux - Generic")])]),s._v(" "),t("p",[s._v("Select OS Version: "),t("strong",[s._v("Linux - Generic (glibc 2.12) (x86, 64-bit)")])]),s._v(" "),t("p",[s._v("列表中下载：")]),s._v(" "),t("p",[s._v("Compressed TAR Archive：(mysql-5.7.25-linux-glibc2.12-x86_64.tar.gz)")]),s._v(" "),t("h4",{attrs:{id:"_5-上传mysql的离线安装包并解压进行传统配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-上传mysql的离线安装包并解压进行传统配置"}},[s._v("#")]),s._v(" "),t("strong",[s._v("5） 上传MySQL的离线安装包并解压进行传统配置")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将mysql解压到 /usr/local 下")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysoft"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tar -zxvf mysql-5.7.29-el7-x86_64.tar.gz -C /usr/local/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建软连接")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ln -s mysql-5.7.29-el7-x86_64 mysql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改目录与软件连的所属用户和组")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chown -R mysql:mysql mysql-5.7.29-el7-x86_64")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chown -h mysql:mysql mysql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建mysql的数据目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入mysql(cd /usr/local/mysql)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd mysql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建 data 目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkdir data")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 目录赋权")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chown mysql:mysql ./data")]),s._v("\n")])])]),t("h4",{attrs:{id:"_6-创建配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-创建配置文件"}},[s._v("#")]),s._v(" "),t("strong",[s._v("6） 创建配置文件")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost local"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd mysql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim my.cnf")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("内容如下 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("socket")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/var/lib/mysql/mysql.sock\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# set mysql client default chararter")]),s._v("\ndefault-character-set"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqld"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("socket")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/var/lib/mysql/mysql.sock\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# set mysql server port  ")]),s._v("\nport "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# set mysql install base dir")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("basedir")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# set the data store dir")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("datadir")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql/data\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# set sql mode")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("sql_mode")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# set the number of allow max connnection")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("max_connections")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# set server charactre default encoding")]),s._v("\ncharacter-set-server"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# the storage engine")]),s._v("\ndefault-storage-engine"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("INNODB\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("lower_case_table_names")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("max_allowed_packet")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("16M\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("explicit_defaults_for_timestamp")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysql.server"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("basedir")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql\n")])])]),t("h4",{attrs:{id:"_7-开始安装mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-开始安装mysql"}},[s._v("#")]),s._v(" "),t("strong",[s._v("7） 开始安装MySQL")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /usr/local/mysql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# bin/mysql_install_db --user=mysql --basedir=/usr/local/mysql/ --datadir=/usr/local/mysql/data/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-02-12 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":14:15 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("WARNING"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" mysql_install_db is deprecated. Please consider switching to mysqld "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--initialize")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-02-12 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":14:20 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("WARNING"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" The bootstrap log isn't empty:\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-02-12 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":14:20 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("WARNING"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-02-12T07:14:16.103773Z "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Warning"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--bootstrap")]),s._v(" is deprecated. Please consider using "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--initialize")]),s._v(" instead\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-02-12T07:14:16.104788Z "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Warning"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Changed limits: max_open_files: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("requested "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-02-12T07:14:16.104795Z "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Warning"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Changed limits: table_open_cache: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("431")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("requested "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("p",[s._v("设置权限")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cp ./support-files/mysql.server /etc/init.d/mysqld")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chown 777 my.cnf")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chmod +x /etc/init.d/mysqld")]),s._v("\n")])])]),t("h4",{attrs:{id:"_8-启动mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-启动mysql"}},[s._v("#")]),s._v(" "),t("strong",[s._v("8） 启动MySQL")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkdir -p /var/lib/mysql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chown -R mysql:mysql /var/lib/mysql")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动一次")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /etc/init.d/mysqld restart")]),s._v("\n ERROR"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" MySQL server PID "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" could not be found"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\nStarting MySQL.Logging to "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/usr/local/mysql/data/localhost.localdomain.err'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n SUCCESS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 再启动一次")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /etc/init.d/mysqld restart")]),s._v("\nShutting down MySQL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(" SUCCESS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" \nStarting MySQL. SUCCESS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n")])])]),t("h4",{attrs:{id:"_9-设置开机启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9-设置开机启动"}},[s._v("#")]),s._v(" "),t("strong",[s._v("9） 设置开机启动")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chkconfig --level 35 mysqld on")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chkconfig --list mysqld")]),s._v("\n注：该输出结果只显示 SysV 服务，并不包含\n原生 systemd 服务。SysV 配置数据\n可能被原生 systemd 配置覆盖。 \n      要列出 systemd 服务，请执行 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'systemctl list-unit-files'")]),s._v("。\n      查看在具体 target 启用的服务请执行\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'systemctl list-dependencies [target]'")]),s._v("。\nmysqld          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":关    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":关    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":开    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(":开    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(":开    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(":开    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(":关\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chmod +x /etc/rc.d/init.d/mysqld")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chkconfig --add mysqld")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chkconfig --list mysqld")]),s._v("\n注：该输出结果只显示 SysV 服务，并不包含\n原生 systemd 服务。SysV 配置数据\n可能被原生 systemd 配置覆盖。 \n      要列出 systemd 服务，请执行 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'systemctl list-unit-files'")]),s._v("。\n      查看在具体 target 启用的服务请执行\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'systemctl list-dependencies [target]'")]),s._v("。\nmysqld          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":关    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":关    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(":开    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(":开    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(":开    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(":开    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(":关\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# service mysqld status")]),s._v("\n SUCCESS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" MySQL running "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60791")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("h4",{attrs:{id:"_10-修改配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_10-修改配置文件"}},[s._v("#")]),s._v(" "),t("strong",[s._v("10） 修改配置文件")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/profile")]),s._v("\n添加一行 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v(":/usr/local/mysql/bin\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# source /etc/profile")]),s._v("\n")])])]),t("h4",{attrs:{id:"_11-获取初始密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_11-获取初始密码"}},[s._v("#")]),s._v(" "),t("strong",[s._v("11） 获取初始密码")])]),s._v(" "),t("p",[s._v("获取初始密码")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /root/.mysql_secret")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Password set for user 'root@localhost' at 2020-02-12 15:14:15 ")]),s._v("\nQba3P"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("r"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ft_>")]),s._v("\n")])])]),t("p",[s._v("创建软连接")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ln -s /var/lib/mysql/mysql.sock /tmp/mysql.sock")]),s._v("\n")])])]),t("p",[s._v("登录mysql")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysql -uroot -p'Qba3P)r#ft_>'")]),s._v("\n")])])]),t("p",[s._v("修改密码")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysql -uroot -p'Qba3P)r#ft_>'")]),s._v("\nmysql: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Warning"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Using a password on the "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" line interface can be insecure.\nWelcome to the MySQL monitor.  Commands end with "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" or "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("g.\nYour MySQL connection "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" is "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nServer version: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.7")]),s._v(".29\nCopyright "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v(", Oracle and/or its affiliates. All rights reserved.\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\nType "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'help;'")]),s._v(" or "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\h'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" help. Type "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\c'")]),s._v(" to "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("clear")]),s._v(" the current input statement.\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" PASSWORD "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" PASSWORD"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'000000'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nQuery OK, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" rows affected, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" warning "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" sec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("p",[s._v("检验密码是否成功")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\nBye\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysql -uroot -p000000")]),s._v("\nmysql: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Warning"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Using a password on the "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" line interface can be insecure.\nWelcome to the MySQL monitor.  Commands end with "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" or "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("g.\nYour MySQL connection "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" is "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\nServer version: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.7")]),s._v(".29 MySQL Community Server "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("GPL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nCopyright "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v(", Oracle and/or its affiliates. All rights reserved.\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\nType "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'help;'")]),s._v(" or "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\h'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" help. Type "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\c'")]),s._v(" to "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("clear")]),s._v(" the current input statement.\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" \n")])])]),t("p",[s._v("设置远程访问")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@localhost")]),s._v(" tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysql -uroot -p000000")]),s._v("\nmysql: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Warning"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Using")]),s._v(" a password "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" the command line interface can be insecure"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nWelcome "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" the MySQL monitor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("  Commands "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("or")]),s._v(" \\g"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nYour MySQL connection id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("is")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\nServer version: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.7")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".29")]),s._v(" MySQL Community Server "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("GPL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nCopyright "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Oracle "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("or")]),s._v(" its affiliates"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("All")]),s._v(" rights reserved"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nOracle "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("is")]),s._v(" a registered trademark "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("of")]),s._v(" Oracle Corporation "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("or")]),s._v(" its\naffiliates"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" Other names may be trademarks "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("of")]),s._v(" their respective\nowners"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'help;'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("or")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\h'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" help"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\c'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" clear the "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("current")]),s._v(" input statement"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("all")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("privileges")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'%'")]),s._v(" identified "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'000000'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nQuery OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rows")]),s._v(" affected"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" warning "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" sec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grant")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("all")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("privileges")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'localhost'")]),s._v(" identified "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'000000'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nQuery OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rows")]),s._v(" affected"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" warning "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" sec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" flush "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("privileges")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \nQuery OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rows")]),s._v(" affected "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" sec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);