(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{465:function(t,e,n){"use strict";n.r(e);var a=n(2),r=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"_1-mybatis-一对多查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-mybatis-一对多查询"}},[t._v("#")]),t._v(" 1 Mybatis 一对多查询")]),t._v(" "),e("h3",{attrs:{id:"xml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xml"}},[t._v("#")]),t._v(" Xml")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('    <resultMap type="com.dataojo.domain.vo.EnterpriseActivityVo" id="enterpriseActivityVo">\n        <result property="id" column="id"/>\n        <result property="activityName" column="activity_name"/>\n        <result property="startTime" column="start_time"/>\n        <result property="endTime" column="end_time"/>\n        <result property="numberPeople" column="number_people"/>\n        <result property="activityImg" column="activity_img"/>\n        <result property="activitySlogan" column="activity_slogan"/>\n        <result property="activityRule" column="activity_rule"/>\n        <result property="status" column="status"/>\n        <result property="createBy" column="create_by"/>\n        <result property="createTime" column="create_time"/>\n        <result property="updateBy" column="update_by"/>\n        <result property="updateTime" column="update_time"/>\n        <result property="tenantCode" column="tenant_code"/>\n        <collection property="bannerList" ofType="com.dataojo.domain.dto.EnterpriseActivityBannerDTO">\n            <result column="banner_id" property="bannerId"/>\n            <result column="banner_img" property="bannerImg"/>\n        </collection>\n        <collection property="giftsList" ofType="com.dataojo.domain.dto.EnterpriseGiftsDTO">\n            <result column="gift_id" property="giftId"/>\n            <result column="gift_url" property="giftUrl"/>\n        </collection>\n    </resultMap>\n')])])]),e("h3",{attrs:{id:"dto"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dto"}},[t._v("#")]),t._v(" dto")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("@Data\npublic class EnterpriseActivityBannerDTO implements Serializable {\n\tprivate static final long serialVersionUID = 1L;\n\n\t/**\n\t * 活动banner id\n\t */\n\t@TableId\n\tprivate Long bannerId;\n\n\t/**\n\t * banner url\n\t */\n\tprivate String bannerImg;\n\n\n}\n")])])]),e("h3",{attrs:{id:"vo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vo"}},[t._v("#")]),t._v(" Vo")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("@Data\npublic class EnterpriseActivityVo extends EnterpriseActivityEntity implements Serializable {\n\n    @TableField(exist = false)\n    List<EnterpriseActivityBannerDTO> bannerList;\n\n    @TableField(exist = false)\n    List<EnterpriseGiftsEntity> giftsList;\n}\n\n")])])]),e("h3",{attrs:{id:"entity"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#entity"}},[t._v("#")]),t._v(" Entity")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('\n/**\n * 企业活动表\n *\n * @author Lichengcan\n * @email ccnaive@qq.com\n * @date 2024-01-17 14:36:13\n */\n@Data\n@TableName("lb_enterprise_activity")\npublic class EnterpriseActivityEntity  implements Serializable {\n\tprivate static final long serialVersionUID = 1L;\n\n\t/**\n\t * 企业活动id\n\t */\n\t@TableId\n\tprivate Long id;\n\t/**\n\t * 活动名称\n\t */\n\tprivate String activityName;\n\t/**\n\t * 活动开始时间\n\t */\n\t@JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss", timezone = "GMT+8")\n\tprivate Date startTime;\n\t/**\n\t * 活动结束时间\n\t */\n\t@JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss", timezone = "GMT+8")\n\tprivate Date endTime;\n\t/**\n\t * 参与人数\n\t */\n\tprivate Integer numberPeople;\n\t/**\n\t * 活动图片\n\t */\n\tprivate String activityImg;\n\t/**\n\t * 活动标语\n\t */\n\tprivate String activitySlogan;\n\t/**\n\t * 活动规则\n\t */\n\tprivate String activityRule;\n\t/**\n\t * 活动状态（0已上线 1已下线）\n\t */\n\tprivate Integer status;\n\t/**\n\t * 创建者\n\t */\n\tprivate String createBy;\n\t/**\n\t * 创建时间\n\t */\n\t@JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss", timezone = "GMT+8")\n\tprivate Date createTime;\n\t/**\n\t * 更新者\n\t */\n\tprivate String updateBy;\n\t/**\n\t * 更新时间\n\t */\n\t@JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss", timezone = "GMT+8")\n\tprivate Date updateTime;\n\t/**\n\t * 运营租户编码\n\t */\n\tprivate Long tenantCode;\n\n}\n\n')])])]),e("h3",{attrs:{id:"mapper"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mapper"}},[t._v("#")]),t._v(" Mapper")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('@Mapper\npublic interface EnterpriseActivityMapper extends BaseMapper<EnterpriseActivityEntity> {\n\n    IPage<EnterpriseActivityVo> pageData(@Param("page") Page<EnterpriseActivityReq> page, @Param("req") EnterpriseActivityReq req);\n}\n')])])]),e("h3",{attrs:{id:"sql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sql"}},[t._v("#")]),t._v(" SQL")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(' <select id="pageData" resultMap="enterpriseActivityVo">\n        SELECT\n        ea.id,\n        ea.activity_name,\n        ea.start_time,\n        ea.end_time,\n        ea.number_people,\n        ea.activity_img,\n        ea.activity_slogan,\n        ea.activity_rule,\n        ea.`status`,\n        ea.create_by,\n        ea.create_time,\n        ea.update_by,\n        ea.update_time,\n        ea.tenant_code,\n        eab.banner_id,\n        eab.banner_img,\n        gifts.gift_id,\n        gifts.gift_url\n        FROM lb_enterprise_activity ea\n        LEFT JOIN lb_enterprise_activity_banner eab ON ea.id = eab.activity_id\n        LEFT JOIN lb_enterprise_gifts gifts ON ea.id = gifts.activity_id\n        <where>\n            <if test="req.activityName != null and req.activityName != \'\'">\n                AND ea.activity_name LIKE CONCAT(\'%\', #{req.activityName} , \'%\')\n            </if>\n            <if test="req.startTime != null and req.endTime !=null">\n                AND ea.start_time <![CDATA[>= ]]> #{req.startTime}\n                AND ea.end_time <![CDATA[<= ]]> #{req.endTime}\n            </if>\n            <if test="req.status != null">\n                AND ea.status = #{req.status}\n            </if>\n            <if test="req.tenantCode != null">\n                AND ea.tenant_code =#{req.tenantCode}\n            </if>\n        </where>\n        ORDER BY ea.create_time DESC\n    </select>\n')])])])])}),[],!1,null,null,null);e.default=r.exports}}]);