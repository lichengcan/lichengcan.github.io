(window.webpackJsonp=window.webpackJsonp||[]).push([[123],{538:function(e,t,n){"use strict";n.r(t);var a=n(2),r=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("blockquote",[t("p",[e._v("è½¬è½½ï¼šhttps://www.iocoder.cn/ActiveMQ/install/")])]),e._v(" "),t("h1",{attrs:{id:"_1-æ¦‚è¿°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ¦‚è¿°"}},[e._v("#")]),e._v(" 1. æ¦‚è¿°")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/apache/activemq",target:"_blank",rel:"noopener noreferrer"}},[e._v("ActiveMQ"),t("OutboundLink")],1),e._v(" æ˜¯ "),t("a",{attrs:{href:"https://baike.baidu.com/item/Apache%E8%BD%AF%E4%BB%B6%E5%9F%BA%E9%87%91%E4%BC%9A",target:"_blank",rel:"noopener noreferrer"}},[e._v("Apache è½¯ä»¶åŸºé‡‘ä¼šæ‰€"),t("OutboundLink")],1),e._v("ç ”å‘çš„å¼€æºçš„æ¶ˆæ¯ä¸­é—´ä»¶ã€‚")]),e._v(" "),t("ul",[t("li",[e._v("ActiveMQ æ˜¯åŸºäº Java è¯­è¨€æ¥è¿›è¡Œå®ç°çš„ï¼Œå› æ­¤åªéœ€è¦æœ‰ Java ç¯å¢ƒï¼ŒActiveMQ å°±å¯ä»¥æ–¹ä¾¿çš„è¿è¡Œèµ·æ¥ã€‚")]),e._v(" "),t("li",[e._v("ActiveMQ å®Œå…¨æ”¯æŒ "),t("a",{attrs:{href:"https://en.wikipedia.org/wiki/Java_Message_Service",target:"_blank",rel:"noopener noreferrer"}},[e._v("JMS1.1"),t("OutboundLink")],1),e._v(" è§„èŒƒã€‚")])]),e._v(" "),t("p",[e._v("ä¸è¿‡ ActiveMQ ç›¸æ¯”ç›®å‰ä¸»æµçš„ RabbitMQã€Kafkaã€RocketMQ ç­‰æ¶ˆæ¯é˜Ÿåˆ—æ¥è¯´ï¼Œæ€§èƒ½æ˜¯ç›¸å¯¹æ¯”è¾ƒå·®çš„ï¼Œæ‰€ä»¥ç›®å‰äº’è”ç½‘å…¬å¸é‡‡ç”¨çš„éå¸¸å°‘ã€‚ä¹Ÿå› æ­¤ï¼Œåœ¨ "),t("a",{attrs:{href:"https://activemq.apache.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("ActiveMQ å®˜æ–¹"),t("OutboundLink")],1),e._v(" å¯ä»¥çœ‹åˆ°ï¼Œå…¶æ­£åœ¨ç§¯æå¼€å‘ "),t("a",{attrs:{href:"https://github.com/apache/activemq-artemis",target:"_blank",rel:"noopener noreferrer"}},[e._v("ActiveMQ Artemis"),t("OutboundLink")],1),e._v(" ï¼Œä»¥æœ€ç»ˆæ›¿ä»£ç°æœ‰çš„ ActiveMQ ç‰ˆæœ¬ã€‚")]),e._v(" "),t("blockquote",[t("p",[e._v("Artemis æ˜¯ä¸€æ¬¾åŸºäº Netty NIO çš„é«˜æ€§èƒ½æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå®ƒçš„å‰èº«ä¸º JBoss çš„ "),t("a",{attrs:{href:"https://hornetq.jboss.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("HornetQ"),t("OutboundLink")],1),e._v("ï¼Œäº 2015 å¹´è¢«æçŒ®ç»™ Apache ActiveMQ ç¤¾åŒºï¼Œå¹¶å‘½åä¸º Apache Artemisã€‚")])]),e._v(" "),t("p",[e._v("å› ä¸ºæœ‹å‹å·²ç»å†™äº†ä¸€ç¯‡å¾ˆä¸é”™çš„ ActiveMQ å…¥é—¨æ–‡ç« ï¼Œæ‰€ä»¥è‰¿è‰¿å°±å¯ä»¥å…‰æ˜æ­£å¤§çš„å·æ‡’äº†ã€‚å¯¹ RabbitMQ ä¸äº†è§£çš„èƒ–å‹ï¼Œå¯ä»¥å…ˆé˜…è¯» "),t("a",{attrs:{href:"http://www.iocoder.cn/ActiveMQ/yuliu/doc",target:"_blank",rel:"noopener noreferrer"}},[e._v("ã€Šæ¶ˆæ¯é˜Ÿåˆ—ä¹‹ ActiveMQã€‹"),t("OutboundLink")],1),e._v(" æ–‡ç« çš„"),t("a",{attrs:{href:"https://www.iocoder.cn/ActiveMQ/install/#",target:"_blank",rel:"noopener noreferrer"}},[e._v("ã€Œ1. ç®€ä»‹ã€"),t("OutboundLink")],1),e._v("å°èŠ‚")]),e._v(" "),t("h1",{attrs:{id:"_2-å•æœºéƒ¨ç½²"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-å•æœºéƒ¨ç½²"}},[e._v("#")]),e._v(" 2. å•æœºéƒ¨ç½²")]),e._v(" "),t("blockquote",[t("p",[e._v("æ“ä½œç³»ç»Ÿï¼šmacOS 10.14")]),e._v(" "),t("p",[e._v("å…¶å®ƒç³»ç»Ÿï¼ŒåŸºæœ¬ä¸€è‡´çš„ã€‚")])]),e._v(" "),t("p",[e._v("æ³¨æ„ï¼Œéœ€è¦å®‰è£… JDK ã€‚ä¸åŒç‰ˆæœ¬çš„ ActiveMQ éœ€è¦çš„ JDK ç‰ˆæœ¬ï¼Œè§"),t("a",{attrs:{href:"https://blog.csdn.net/yanfeipei/article/details/75267384",target:"_blank",rel:"noopener noreferrer"}},[e._v("ã€ŠApache ActiveMQ å„ä¸ªç‰ˆæœ¬æ‰€ä¾èµ–çš„ JDK ç‰ˆæœ¬ã€‹"),t("OutboundLink")],1),e._v("æ–‡ç« ã€‚")]),e._v(" "),t("h2",{attrs:{id:"_2-1-ä¸‹è½½"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-ä¸‹è½½"}},[e._v("#")]),e._v(" 2.1 ä¸‹è½½")]),e._v(" "),t("p",[e._v("æ‰“å¼€ "),t("a",{attrs:{href:"http://activemq.apache.org/download-archives.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("ActiveMQ ä¸‹è½½é¡µé¢"),t("OutboundLink")],1),e._v("ï¼Œé€‰æ‹©æƒ³è¦çš„ ActiveMQ ç‰ˆæœ¬ã€‚è¿™é‡Œï¼Œé€‰æ‹©ç‰ˆæœ¬ "),t("a",{attrs:{href:"http://activemq.apache.org/activemq-51510-release",target:"_blank",rel:"noopener noreferrer"}},[e._v("5.15.10 Release"),t("OutboundLink")],1),e._v(" ã€‚å‘½ä»¤è¡Œæ“ä½œå¦‚ä¸‹ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("åœ¨/optç›®å½•ä¸‹è§£å‹\n# è§£å‹\n$ tar -zxvf apache-activemq-5.15.10-bin.tar.gz\n# é‡å‘½å\n$ mv apache-activemq-5.15.10 activemq\n\n# æŸ¥çœ‹ç›®å½•\n$ ls- ls\n80 -rw-r--r--   1 yunai  staff     40580 Aug 28 15:47 LICENSE\n8 -rw-r--r--   1 yunai  staff      3334 Aug 28 15:47 NOTICE\n8 -rw-r--r--   1 yunai  staff      2610 Aug 28 15:47 README.txt\n36208 -rwxr-xr-x   1 yunai  staff  18536370 Aug 28 15:22 activemq-all-5.15.10.jar\n0 drwxr-xr-x  10 yunai  staff       320 Dec 14 20:30 bin # # æ‰§è¡Œè„šæœ¬\n0 drwxr-xr-x  20 yunai  staff       640 Aug 28 15:47 conf # é…ç½®æ–‡ä»¶\n0 drwxr-xr-x   3 yunai  staff        96 Aug 28 15:47 data # æ•°æ®æ–‡ä»¶ã€æ—¥å¿—æ–‡ä»¶\n0 drwxr-xr-x   5 yunai  staff       160 Aug 28 15:47 docs # æ–‡æ¡£\n0 drwxr-xr-x   7 yunai  staff       224 Aug 28 15:47 examples # ä½¿ç”¨ç¤ºä¾‹\n0 drwxr-xr-x  22 yunai  staff       704 Dec 14 20:30 lib # ActiveMQ jar åŒ…\n0 drwxr-xr-x   8 yunai  staff       256 Aug 28 15:47 webapps # ActiveMQ ç®¡ç†åå°\n0 drwxr-xr-x   3 yunai  staff        96 Dec 14 20:30 webapps-demo\n")])])]),t("h2",{attrs:{id:"_2-2-å¯åŠ¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-å¯åŠ¨"}},[e._v("#")]),e._v(" 2.2 å¯åŠ¨")]),e._v(" "),t("p",[e._v("å¯åŠ¨ä¸€ä¸ª ActiveMQ Broker æœåŠ¡ã€‚å‘½ä»¤è¡Œæ“ä½œå¦‚ä¸‹ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("åˆ‡æ¢åˆ°binç›®å½•\n$ cd /opt/activemq/bin\nls\n")])])]),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/lichengcan/images/main/image-20231213182100928.png",alt:""}})]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# å¯åŠ¨ ActiveMQ Broker æœåŠ¡ã€‚\n./activemq start\n")])])]),t("p",[e._v("è®¿é—®ï¼šhttp://192.168.104.128:8161/admin/ è´¦å·ï¼šadmin å¯†ç ï¼šadmin")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/lichengcan/images/main/image-20231213182230234.png",alt:""}})]),e._v(" "),t("ul",[t("li",[e._v("8161 ç«¯å£ï¼šWeb Console ã€‚åç»­ï¼Œèƒ–å‹å¯ä»¥çœ‹çœ‹"),t("a",{attrs:{href:"https://www.iocoder.cn/ActiveMQ/install/#",target:"_blank",rel:"noopener noreferrer"}},[e._v("ã€Œ4. ActiveMQ Web Consoleã€"),t("OutboundLink")],1),e._v(" ã€‚")]),e._v(" "),t("li",[e._v("61616 ç«¯å£ï¼šBroker æœåŠ¡ã€‚åç«¯ï¼Œèƒ–å‹å¯ä»¥çœ‹çœ‹"),t("a",{attrs:{href:"https://www.iocoder.cn/ActiveMQ/install/#",target:"_blank",rel:"noopener noreferrer"}},[e._v("ã€Œ5. ç®€å•ç¤ºä¾‹ã€"),t("OutboundLink")],1),e._v("ã€‚")])]),e._v(" "),t("p",[e._v("ğŸ˜ˆ è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº† ActiveMQ å•æœºéƒ¨ç½²ã€‚")]),e._v(" "),t("h1",{attrs:{id:"_5-ç®€å•ç¤ºä¾‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-ç®€å•ç¤ºä¾‹"}},[e._v("#")]),e._v(" 5. ç®€å•ç¤ºä¾‹")]),e._v(" "),t("blockquote",[t("p",[e._v("ç¤ºä¾‹ä»£ç å¯¹åº”ä»“åº“ï¼š"),t("a",{attrs:{href:"https://github.com/YunaiV/SpringBoot-Labs/tree/master/lab-32/lab-32-activemq-native",target:"_blank",rel:"noopener noreferrer"}},[e._v("lab-32-activemq-native"),t("OutboundLink")],1),e._v(" ã€‚")])]),e._v(" "),t("p",[e._v("åœ¨ JMS è§„èŒƒä¸­ï¼Œå®šä¹‰äº†ä¸¤ç§æ¶ˆæ¯æ¨¡å‹ï¼š")]),e._v(" "),t("ul",[t("li",[e._v("ç‚¹å¯¹ç‚¹ï¼ˆpoint to pointï¼‰ï¼šåŸºäº Queue é˜Ÿåˆ—çš„æ–¹å¼ã€‚")]),e._v(" "),t("li",[e._v("å‘å¸ƒ/è®¢é˜…ï¼ˆpublish/subscribeï¼‰ï¼šåŸºäº Topic ä¸»é¢˜çš„æ–¹å¼ã€‚")])]),e._v(" "),t("p",[e._v("å…·ä½“çš„æ¦‚å¿µï¼Œèƒ–å‹å¯ä»¥çœ‹çœ‹"),t("a",{attrs:{href:"http://www.iocoder.cn/Fight/There-are-two-modes-of-message-queuing-point-to-point-and-publish-subscription/?self",target:"_blank",rel:"noopener noreferrer"}},[e._v("ã€Šæ¶ˆæ¯é˜Ÿåˆ—ä¸¤ç§æ¨¡å¼ï¼šç‚¹å¯¹ç‚¹ä¸å‘å¸ƒè®¢é˜…ã€‹"),t("OutboundLink")],1),e._v("æ–‡ç« ã€‚")]),e._v(" "),t("p",[e._v("æœ¬å°èŠ‚ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç‚¹å¯¹ç‚¹çš„æ¶ˆæ¯æ¨¡å¼ï¼Œä¸€èµ·æ¥çœ‹çœ‹åœ¨ Java ä¸­ï¼Œå¦‚ä½•ä½¿ç”¨ç”Ÿäº§è€… Producer å‘é€æ¶ˆæ¯ï¼Œå’Œæ¶ˆè´¹è€… Consumer æ¶ˆè´¹æ¶ˆæ¯ã€‚")]),e._v(" "),t("p",[e._v("å¦å¤–ï¼ŒActiveMQ çš„ Java å®¢æˆ·ç«¯æ˜¯éµå®ˆ JMS è§„èŒƒæ¥å®ç°çš„ï¼Œæ‰€ä»¥åœ¨ç¨åçš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½çœ‹åˆ°è¿™ä¸€ç‚¹ã€‚")]),e._v(" "),t("h2",{attrs:{id:"_5-1-å¼•å…¥ä¾èµ–"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-å¼•å…¥ä¾èµ–"}},[e._v("#")]),e._v(" 5.1 å¼•å…¥ä¾èµ–")]),e._v(" "),t("p",[e._v("åœ¨ "),t("a",{attrs:{href:"https://github.com/YunaiV/SpringBoot-Labs/tree/master/lab-32/lab-32-activemq-native/pom.xml",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("pom.xml")]),t("OutboundLink")],1),e._v(" æ–‡ä»¶ä¸­ï¼Œå¼•å…¥ç›¸å…³ä¾èµ–ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <parent>\n        <artifactId>lab-32</artifactId>\n        <groupId>cn.iocoder.springboot.labs</groupId>\n        <version>1.0-SNAPSHOT</version>\n    </parent>\n    <modelVersion>4.0.0</modelVersion>\n\n    <artifactId>lab-32-activemq-native</artifactId>\n\n    <dependencies>\n        \x3c!-- å¼•å…¥ ActiveMQ å®¢æˆ·ç«¯ä¾èµ– --\x3e\n        <dependency>\n            <groupId>org.apache.activemq</groupId>\n            <artifactId>activemq-client</artifactId>\n            <version>5.15.10</version>\n        </dependency>\n    </dependencies>\n\n</project>\n')])])]),t("p",[e._v("å…·ä½“æ¯ä¸ªä¾èµ–çš„ä½œç”¨ï¼Œèƒ–å‹è‡ªå·±è®¤çœŸçœ‹ä¸‹è‰¿è‰¿æ·»åŠ çš„æ‰€æœ‰æ³¨é‡Šå™¢ã€‚")]),e._v(" "),t("h2",{attrs:{id:"_5-2-activemqproducer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-activemqproducer"}},[e._v("#")]),e._v(" 5.2 ActiveMQProducer")]),e._v(" "),t("p",[e._v("åˆ›å»º "),t("a",{attrs:{href:"https://github.com/YunaiV/SpringBoot-Labs/blob/master/lab-32/lab-32-activemq-native/src/main/java/cn/iocoder/springboot/lab32/activemqdemo/ActiveMQProducer.java",target:"_blank",rel:"noopener noreferrer"}},[e._v("ActiveMQProducer"),t("OutboundLink")],1),e._v(" ç±»ï¼Œä½¿ç”¨ JMS "),t("a",{attrs:{href:"https://github.com/javaee/javax.jms/blob/master/src/main/java/javax/jms/MessageProducer.java",target:"_blank",rel:"noopener noreferrer"}},[e._v("MessageProducer"),t("OutboundLink")],1),e._v(" å‘é€æ¶ˆæ¯ã€‚ä»£ç å¦‚ä¸‹ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// ActiveMQProducer.java\n\nimport org.apache.activemq.ActiveMQConnectionFactory; // ä½¿ç”¨ ActiveMQ çš„å®¢æˆ·ç«¯å®ç°\n\nimport javax.jms.*; // ä½¿ç”¨ JMS API\n\npublic class ActiveMQProducer {\n\n    private static final String BROKER_URL = "tcp://127.0.0.1:61616";\n    private static final String USERNAME = "admin";\n    private static final String PASSWORD = "admin";\n\n    private static final String QUEUE_NAME = "queue_demo"; // åªæœ‰ QUEUE_NAME éœ€è¦å…±äº«ç»™ RabbitMQConsumer\n\n    public static void main(String[] args) throws JMSException {\n        // åˆ›å»ºè¿æ¥\n        Connection connection = getConnection();\n\n        // åˆ›å»ºä¼šè¯\n        Session session = getSession(connection);\n\n        // åˆ›å»ºé˜Ÿåˆ—\n        Queue queue = getQueue(session);\n\n        // åˆ›å»º Producer\n        MessageProducer producer = session.createProducer(queue);\n\n        // å‘é€ 3 æ¡æ¶ˆæ¯\n        for (int i = 0; i < 3; i++) {\n            Message message = session.createTextMessage("Hello World" + i);\n            producer.send(message);\n        }\n\n        // å…³é—­\n        session.close();\n        connection.close();\n    }\n\n    public static Connection getConnection() throws JMSException {\n        // åˆ›å»ºè¿æ¥\n        ConnectionFactory factory = new ActiveMQConnectionFactory(USERNAME, PASSWORD, BROKER_URL);\n        Connection connection = factory.createConnection();\n        // å¯åŠ¨è¿æ¥\n        connection.start();\n        return connection;\n    }\n\n    public static Session getSession(Connection connection) throws JMSException {\n        // ç¬¬ä¸€ä¸ªæ–¹æ³•å‚æ•° transacted ï¼Œæ˜¯å¦å¼€å¯äº‹åŠ¡ã€‚è¿™é‡Œè®¾ç½®ä¸º false ï¼Œæ— éœ€å¼€å¯\n        // ç¬¬äºŒä¸ªæ–¹æ³•å‚æ•° acknowledgeMode ï¼Œç¡®è®¤æ¨¡å¼ã€‚è¿™é‡Œè®¾ç½®ä¸º AUTO_ACKNOWLEDGE ï¼Œè‡ªåŠ¨ç¡®è®¤ã€‚æ¨èé˜…è¯» https://my.oschina.net/thinwonton/blog/995291\n        return connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n    }\n\n    public static Queue getQueue(Session session) throws JMSException {\n        return session.createQueue(QUEUE_NAME);\n    }\n\n}\n')])])]),t("ul",[t("li",[e._v("ä»£ç æ¯”è¾ƒç®€å•ï¼Œèƒ–å‹æ ¹æ®è‰¿è‰¿æ·»åŠ çš„æ³¨é‡Šï¼Œç†è§£ä¸‹å“ˆã€‚")])]),e._v(" "),t("p",[e._v("æ‰§è¡Œ "),t("code",[e._v("#main(args)")]),e._v(" æ–¹æ³•ï¼Œå‘é€ 3 æ¡æ¶ˆæ¯åˆ° ActiveMQ ã€‚å¦‚æœæ²¡æœ‰æŠ¥é”™ï¼Œè¯´æ˜æ‰§è¡Œæ­£å¸¸æˆåŠŸã€‚")]),e._v(" "),t("h2",{attrs:{id:"_5-3-activemqconsumer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-activemqconsumer"}},[e._v("#")]),e._v(" 5.3 ActiveMQConsumer")]),e._v(" "),t("p",[e._v("åˆ›å»º "),t("a",{attrs:{href:"https://github.com/YunaiV/SpringBoot-Labs/blob/master/lab-32/lab-32-activemq-native/src/main/java/cn/iocoder/springboot/lab32/activemqdemo/ActiveMQConsumer.java",target:"_blank",rel:"noopener noreferrer"}},[e._v("ActiveMQConsumer"),t("OutboundLink")],1),e._v(" ç±»ï¼Œä½¿ç”¨ JMS "),t("a",{attrs:{href:"https://github.com/javaee/javax.jms/blob/master/src/main/java/javax/jms/MessageConsumer.java",target:"_blank",rel:"noopener noreferrer"}},[e._v("MessageConsumer"),t("OutboundLink")],1),e._v(" æ¶ˆè´¹æ¶ˆæ¯ã€‚ä»£ç å¦‚ä¸‹ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('// ActiveMQConsumer.java\n\nimport javax.jms.*; // ä½¿ç”¨ JMS API\n\nimport java.util.concurrent.TimeUnit;\n\npublic class ActiveMQConsumer {\n\n    public static void main(String[] args) throws JMSException {\n        // åˆ›å»ºè¿æ¥\n        Connection connection = ActiveMQProducer.getConnection();\n\n        // åˆ›å»ºä¼šè¯\n        final Session session = ActiveMQProducer.getSession(connection);\n\n        // åˆ›å»ºé˜Ÿåˆ—\n        Queue queue = ActiveMQProducer.getQueue(session);\n\n        // åˆ›å»º Consumer\n        MessageConsumer consumer = session.createConsumer(queue);\n        consumer.setMessageListener(new MessageListener() {\n\n            public void onMessage(Message message) {\n                TextMessage textMessage = (TextMessage) message;\n                try {\n                    System.out.println(String.format("[çº¿ç¨‹ï¼š%s][æ¶ˆæ¯ç¼–å·ï¼š%s][æ¶ˆæ¯å†…å®¹ï¼š%s]",\n                            Thread.currentThread(), textMessage.getJMSMessageID(), textMessage.getText()));\n                } catch (JMSException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n        });\n\n        // å…³é—­\n        try {\n            TimeUnit.HOURS.sleep(1);\n        } catch (InterruptedException ignore) {\n        }\n        session.close();\n        connection.close();\n    }\n\n}\n')])])]),t("ul",[t("li",[e._v("ä»£ç æ¯”è¾ƒç®€å•ï¼Œèƒ–å‹æ ¹æ®è‰¿è‰¿æ·»åŠ çš„æ³¨é‡Šï¼Œç†è§£ä¸‹å“ˆã€‚")])]),e._v(" "),t("p",[e._v("æ‰§è¡Œ "),t("code",[e._v("#main(args)")]),e._v(" æ–¹æ³•ï¼Œä» RabbitMQ æ¶ˆè´¹æ¶ˆæ¯ã€‚æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("[çº¿ç¨‹ï¼šThread[ActiveMQ Session Task-1,7,main]][æ¶ˆæ¯ç¼–å·ï¼šID:MacBook-Pro-8-53110-1576335483269-1:1:1:1:1][æ¶ˆæ¯å†…å®¹ï¼šHello World0]\n[çº¿ç¨‹ï¼šThread[ActiveMQ Session Task-1,7,main]][æ¶ˆæ¯ç¼–å·ï¼šID:MacBook-Pro-8-53110-1576335483269-1:1:1:1:2][æ¶ˆæ¯å†…å®¹ï¼šHello World1]\n[çº¿ç¨‹ï¼šThread[ActiveMQ Session Task-1,7,main]][æ¶ˆæ¯ç¼–å·ï¼šID:MacBook-Pro-8-53110-1576335483269-1:1:1:1:3][æ¶ˆæ¯å†…å®¹ï¼šHello World2]\n")])])]),t("ul",[t("li",[e._v("æ¶ˆè´¹æˆåŠŸï¼Œç¬¦åˆé¢„æœŸã€‚")])])])}),[],!1,null,null,null);t.default=r.exports}}]);