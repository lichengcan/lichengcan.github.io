(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{505:function(o,a,s){"use strict";s.r(a);var t=s(2),e=Object(t.a)({},(function(){var o=this,a=o._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[a("h2",{attrs:{id:"linux安装mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux安装mongodb"}},[o._v("#")]),o._v(" Linux安装MongoDB")]),o._v(" "),a("p",[o._v("MongoDB地址："),a("a",{attrs:{href:"https://www.mongodb.com/try/download/community",target:"_blank",rel:"noopener noreferrer"}},[o._v("https://www.mongodb.com/try/download/community"),a("OutboundLink")],1)]),o._v(" "),a("ol",[a("li",[o._v("打开终端，使用 root 权限登录或者切换到 root 用户。")]),o._v(" "),a("li",[o._v("添加 MongoDB 的软件源。创建一个名为 "),a("code",[o._v("/etc/yum.repos.d/mongodb-org.repo")]),o._v(" 的文件，并将以下内容复制粘贴到文件中：")])]),o._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[o._v("[mongodb-org-4.4]\nname=MongoDB Repository\nbaseurl=https://repo.mongodb.org/yum/redhat/$releasever/mongodb-org/4.4/x86_64/\ngpgcheck=1\nenabled=1\ngpgkey=https://www.mongodb.org/static/pgp/server-4.4.asc\n")])])]),a("ol",[a("li",[o._v("保存并关闭该文件。")]),o._v(" "),a("li",[o._v("安装 MongoDB。在终端中运行以下命令：")])]),o._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[o._v("sudo yum install -y mongodb-org\n")])])]),a("ol",[a("li",[o._v("安装完成后，启动 MongoDB 服务：")])]),o._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[o._v("sudo systemctl start mongod\n")])])]),a("ol",[a("li",[o._v("设置 MongoDB 开机自启：")])]),o._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[o._v("sudo systemctl enable mongod\n")])])]),a("ol",[a("li",[o._v("确认 MongoDB 是否成功启动，可以运行以下命令检查状态：")])]),o._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[o._v("sudo systemctl status mongod\n")])])]),a("p",[o._v("现在你已经成功安装和启动了 MongoDB。以下是一些 MongoDB 的基本使用命令：")]),o._v(" "),a("ul",[a("li",[o._v("连接 MongoDB 数据库：在终端输入 "),a("code",[o._v("mongo")]),o._v(" 命令，即可连接到本地 MongoDB 数据库。")]),o._v(" "),a("li",[o._v("显示数据库列表：使用 "),a("code",[o._v("show dbs")]),o._v(" 命令来显示当前 MongoDB 实例中的所有数据库。")]),o._v(" "),a("li",[o._v("切换数据库：使用 "),a("code",[o._v("use <database_name>")]),o._v(" 命令来切换到指定的数据库。")]),o._v(" "),a("li",[o._v("显示集合列表：使用 "),a("code",[o._v("show collections")]),o._v(" 命令来显示当前数据库中的所有集合。")]),o._v(" "),a("li",[o._v("插入文档：使用 "),a("code",[o._v("db.<collection_name>.insertOne()")]),o._v(" 或 "),a("code",[o._v("db.<collection_name>.insertMany()")]),o._v(" 命令来插入一个或多个文档到指定集合中。")]),o._v(" "),a("li",[o._v("查询文档：使用 "),a("code",[o._v("db.<collection_name>.find()")]),o._v(" 命令来查询指定集合中的文档。")]),o._v(" "),a("li",[o._v("更新文档：使用 "),a("code",[o._v("db.<collection_name>.updateOne()")]),o._v(" 或 "),a("code",[o._v("db.<collection_name>.updateMany()")]),o._v(" 命令来更新指定集合中的文档。")]),o._v(" "),a("li",[o._v("删除文档：使用 "),a("code",[o._v("db.<collection_name>.deleteOne()")]),o._v(" 或 "),a("code",[o._v("db.<collection_name>.deleteMany()")]),o._v(" 命令来删除指定集合中的文档。")])]),o._v(" "),a("h2",{attrs:{id:"查看-mongodb-监听的端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看-mongodb-监听的端口"}},[o._v("#")]),o._v(" 查看 MongoDB 监听的端口")]),o._v(" "),a("ol",[a("li",[o._v("打开终端，使用 root 权限登录或者切换到 root 用户。")]),o._v(" "),a("li",[o._v("运行以下命令来查看 MongoDB 的配置文件 "),a("code",[o._v("/etc/mongod.conf")]),o._v("：")])]),o._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[o._v("cat")]),o._v(" /etc/mongod.conf\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[o._v("在打印的配置文件中，寻找 "),a("code",[o._v("net")]),o._v(" 配置项，其中 "),a("code",[o._v("port")]),o._v(" 字段表示 MongoDB 监听的端口号。示例：")])]),o._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[o._v("net:\n  port: 27017\n  bindIp: 127.0.0.1\n")])])]),a("p",[o._v("在这个示例中，MongoDB 监听的端口号为 27017。")]),o._v(" "),a("h2",{attrs:{id:"测试代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试代码"}},[o._v("#")]),o._v(" 测试代码")]),o._v(" "),a("p",[a("a",{attrs:{href:"https://gitee.com/lichengcan0228/spring-boot-labs/blob/dev/lab-16-spring-data-mongo/lab-16-spring-data-mongodb/src/test/java/cn/iocoder/springboot/lab16/springdatamongodb/dao/UserDaoTest.java",target:"_blank",rel:"noopener noreferrer"}},[o._v("MongoDB测试代码"),a("OutboundLink")],1)]),o._v(" "),a("h2",{attrs:{id:"卸载mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#卸载mongodb"}},[o._v("#")]),o._v(" 卸载mongodb")]),o._v(" "),a("p",[o._v("如果您需要从基于CentOS的系统中卸载MongoDB，可以按照以下步骤操作：")]),o._v(" "),a("ol",[a("li",[a("p",[a("strong",[o._v("停止MongoDB服务：")]),o._v(" 首先，您需要停止MongoDB服务。在终端中，执行以下命令：")]),o._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[o._v("sudo")]),o._v(" systemctl stop mongod\n")])])]),a("p",[o._v("如果您也想禁用开机自启动，可以使用：")]),o._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[o._v("sudo")]),o._v(" systemctl disable mongod\n")])])])]),o._v(" "),a("li",[a("p",[a("strong",[o._v("卸载MongoDB包：")]),o._v(" 接下来，您可以卸载MongoDB和任何相关的包。要删除所有MongoDB包，您可以使用yum命令：")]),o._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[o._v("sudo")]),o._v(" yum erase "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[o._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[o._v("rpm")]),o._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[o._v("-qa")]),o._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[o._v("|")]),o._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[o._v("grep")]),o._v(" mongodb-org"),a("span",{pre:!0,attrs:{class:"token variable"}},[o._v(")")])]),o._v("\n")])])]),a("p",[o._v("这将删除所有与"),a("code",[o._v("mongodb-org")]),o._v("相关的包。")])]),o._v(" "),a("li",[a("p",[a("strong",[o._v("删除数据和配置文件：")]),o._v(" 卸载MongoDB软件包不会自动删除MongoDB的数据目录或配置文件。如果您想删除这些，您需要手动找到并删除它们。通常，MongoDB的数据目录默认位于"),a("code",[o._v("/var/lib/mongo")]),o._v("，日志文件位于"),a("code",[o._v("/var/log/mongodb")]),o._v("，而配置文件通常可以在"),a("code",[o._v("/etc/mongod.conf")]),o._v("找到。您可以使用以下命令删除这些文件和目录：")]),o._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[o._v("sudo")]),o._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[o._v("rm")]),o._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[o._v("-r")]),o._v(" /var/lib/mongo\n"),a("span",{pre:!0,attrs:{class:"token function"}},[o._v("sudo")]),o._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[o._v("rm")]),o._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[o._v("-r")]),o._v(" /var/log/mongodb\n"),a("span",{pre:!0,attrs:{class:"token function"}},[o._v("sudo")]),o._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[o._v("rm")]),o._v(" /etc/mongod.conf\n")])])]),a("p",[a("strong",[o._v("警告：")]),o._v(" 这些操作是不可逆的，并且会永久删除所有数据。")])]),o._v(" "),a("li",[a("p",[a("strong",[o._v("重新加载系统服务守护进程：")]),o._v(" 为了让系统识别服务更改，您可能需要重新加载系统守护进程：")]),o._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[o._v("sudo")]),o._v(" systemctl daemon-reload\n")])])])]),o._v(" "),a("li",[a("p",[a("strong",[o._v("删除MongoDB的Yum仓库（如果已设置）：")]),o._v(" 如果您按照之前的指导添加了MongoDB的yum仓库，可能还想删除它。仓库通常位于"),a("code",[o._v("/etc/yum.repos.d/")]),o._v("目录下，您可以通过以下命令删除它：")]),o._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[o._v("sudo")]),o._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[o._v("rm")]),o._v(" /etc/yum.repos.d/mongodb-org-3.6.repo\n")])])])])]),o._v(" "),a("p",[o._v("执行上述步骤后，MongoDB应该会被完全从您的CentOS系统中卸载。请谨慎操作，特别是在删除数据文件和配置的时候，以免丢失重要数据。如果您计划稍后重新安装MongoDB，可能不希望删除数据文件夹和配置文件。")])])}),[],!1,null,null,null);a.default=e.exports}}]);