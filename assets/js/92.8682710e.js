(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{510:function(a,s,e){"use strict";e.r(s);var t=e(2),r=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"_1-有网情况"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-有网情况"}},[a._v("#")]),a._v(" 1 有网情况")]),a._v(" "),s("h2",{attrs:{id:"linux安装redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux安装redis"}},[a._v("#")]),a._v(" linux安装redis")]),a._v(" "),s("h4",{attrs:{id:"下载redis源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载redis源"}},[a._v("#")]),a._v(" 下载redis源")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo yum install epel-release\n")])])]),s("h4",{attrs:{id:"安装redis数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装redis数据库"}},[a._v("#")]),a._v(" 安装redis数据库")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo yum install redis\n")])])]),s("h3",{attrs:{id:"设置开机启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置开机启动"}},[a._v("#")]),a._v(" 设置开机启动")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo chkconfig redis on\n")])])]),s("h3",{attrs:{id:"启动redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动redis"}},[a._v("#")]),a._v(" 启动redis")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo service redis start\n")])])]),s("h3",{attrs:{id:"停止redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#停止redis"}},[a._v("#")]),a._v(" 停止redis")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo service redis stop\n")])])]),s("h3",{attrs:{id:"查看redis运行状态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看redis运行状态"}},[a._v("#")]),a._v(" 查看redis运行状态")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo service redis status\n")])])]),s("h3",{attrs:{id:"查看redis运行状态-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看redis运行状态-2"}},[a._v("#")]),a._v(" 查看redis运行状态")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("ps -ef | grep redis\n")])])]),s("h3",{attrs:{id:"修改redis默认端口和监听的ip地址"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改redis默认端口和监听的ip地址"}},[a._v("#")]),a._v(" 修改redis默认端口和监听的ip地址")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("编辑/etc/redis.conf\n\nbind 192.168.104.128\n\nport 6379\n")])])]),s("h3",{attrs:{id:"重启redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重启redis"}},[a._v("#")]),a._v(" 重启redis")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo service redis restart\n")])])]),s("h1",{attrs:{id:"_2-无网络情况安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-无网络情况安装"}},[a._v("#")]),a._v(" 2 无网络情况安装")]),a._v(" "),s("h3",{attrs:{id:"准备安装包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#准备安装包"}},[a._v("#")]),a._v(" 准备安装包")]),a._v(" "),s("p",[a._v("https://redis.io/download/")]),a._v(" "),s("h3",{attrs:{id:"查询gcc工具版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查询gcc工具版本"}},[a._v("#")]),a._v(" 查询gcc工具版本")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("gcc -v\n")])])]),s("p",[a._v("如果没有安装gcc则需要先安装这个")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/lichengcan/images/main/Snipaste_2023-10-31_16-44-58.jpg",alt:""}})]),a._v(" "),s("h3",{attrs:{id:"解压redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解压redis"}},[a._v("#")]),a._v(" 解压redis")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# redis解压放这里吧\n/usr/local/redis\n \n# 解压\ntar -vxf redis-6.2.6.tar.gz redis\n")])])]),s("h3",{attrs:{id:"make"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#make"}},[a._v("#")]),a._v(" make")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cd /usr/local/redis\n#编译\nmake\n")])])]),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/lichengcan/images/main/Snipaste_2023-10-31_16-47-17.jpg",alt:""}})]),a._v(" "),s("h3",{attrs:{id:"安装redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装redis"}},[a._v("#")]),a._v(" 安装redis")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cd /usr/local/redis\n\n# 执行 安装命令，并指定安装路径\nmake install PREFIX=/usr/local/redis/\n")])])]),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/lichengcan/images/main/Snipaste_2023-10-31_16-48-16.jpg",alt:""}})]),a._v(" "),s("h3",{attrs:{id:"修改redis-conf"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改redis-conf"}},[a._v("#")]),a._v(" 修改redis.conf")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('修改以下配置：\n        1、#bind 127.0.0.1 -::1（开头加#）\n\n        2、protected-mode no（修改为 no）\n\n        3、daemonize yes （修改为 yes ）\n\n        4、logfile "/usr/local/redis/bin/log/redis.log"（指定日志文件路径，若log目录不存在则需手动创建log目录）\n\n        5、dir /usr/local/redis/bin/data（指定缓存目录路径，若data目录不存在则需手动创建data目录）\n')])])]),s("blockquote",[s("ol",[s("li",[a._v("bind 127.0.0.1 -::1（默认是 bind 127.0.0.1 -::1，用于绑定 redis 服务的 ip）与 protected-mode 相关。")]),a._v(" "),s("li",[a._v("protected-mode （保护模式），用来防止该 Redis 服务被外部服务器所访问，默认情况下，该模式是开启的，也就是只有服务器本机可以访问到该 redis，而实际应用中，如果外部服务器需要直接访问到该redis的话，就需要关闭该模式，同时该配置还与 bind 配置（默认是 bind 127.0.0.1 -::1，用于绑定 redis 服务的 ip）相关，因此在关闭该模式后，还需要注释掉 bind 配置。")]),a._v(" "),s("li",[s("strong",[a._v("daemonize")]),a._v("（守护进程/后台进程），让redis服务在后台运行，"),s("strong",[a._v("守护进程也就是后台进程的意思")])]),a._v(" "),s("li",[s("em",[s("em",[s("em",[a._v("*")]),a._v("*logfile**")]),a._v("*")]),a._v("* （指定日志文件路径） ，用于记录redis日志")]),a._v(" "),s("li",[s("em",[s("em",[s("em",[a._v("*")]),a._v("*dir**")]),a._v("*")]),a._v("* （指定缓存目录路径）,用于近实时的缓存redis数据，最大限度的防止服务崩溃导致的数据丢失。")])])]),a._v(" "),s("h3",{attrs:{id:"复制修改好的redis-conf配置文件到-usr-local-redis-bin目录下"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#复制修改好的redis-conf配置文件到-usr-local-redis-bin目录下"}},[a._v("#")]),a._v(" "),s("em",[s("strong",[a._v("*复制修改好的redis.conf配置文件到/usr/local/redis/bin目录下*")])])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# 拷贝配置文件\ncp redis.conf /usr/local/redis/bin/\n")])])]),s("h3",{attrs:{id:"防火墙配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#防火墙配置"}},[a._v("#")]),a._v(" 防火墙配置")]),a._v(" "),s("p",[a._v("查看防火墙是否开放6379端口，若防火墙未启动则可以忽略第5步的内容。")]),a._v(" "),s("h3",{attrs:{id:"查看防火墙是否开放6379端口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看防火墙是否开放6379端口"}},[a._v("#")]),a._v(" 查看防火墙是否开放6379端口")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo firewall-cmd --query-port=6379/tcp\n")])])]),s("p",[a._v("未开放则需要开放该端口：")]),a._v(" "),s("h3",{attrs:{id:"开放6379端口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开放6379端口"}},[a._v("#")]),a._v(" 开放6379端口")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo firewall-cmd --zone=public --add-port=6379/tcp --permanent\n")])])]),s("p",[a._v("重启防火墙，并再次查看：")]),a._v(" "),s("h3",{attrs:{id:"重启防火墙"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重启防火墙"}},[a._v("#")]),a._v(" 重启防火墙")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo firewall-cmd --reload\n")])])]),s("h3",{attrs:{id:"查看防火墙是否开放6379端口-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看防火墙是否开放6379端口-2"}},[a._v("#")]),a._v(" 查看防火墙是否开放6379端口")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo firewall-cmd --query-port=6379/tcp\n")])])]),s("h3",{attrs:{id:"启动-redis-服务并查看服务进程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动-redis-服务并查看服务进程"}},[a._v("#")]),a._v(" 启动 Redis 服务并查看服务进程")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("#在/usr/local/redis/bin目录下启动redis\ncd /usr/local/redis/bin\n \n# 指定配置文件，启动redis服务\n./redis-server redis.conf\n\nps -ef|grep redis\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);