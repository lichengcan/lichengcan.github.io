(window.webpackJsonp=window.webpackJsonp||[]).push([[141],{559:function(a,t,e){"use strict";e.r(t);var n=e(2),s=Object(n.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h3",{attrs:{id:"_1-mybatis常用符号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-mybatis常用符号"}},[a._v("#")]),a._v(" 1 mybatis常用符号")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("\t\t  特殊字符   \t\t    替代符号\n\t\t\n\t\t     &            \t\t &amp;\n\t\t\n\t\t     <            \t\t &lt;\n\t\t\n\t\t     >                   &gt;\n\t\t\n\t\t     \"                   &quot;\n\t\t\n\t\t     '                   &apos;\n     \n小于等于    a<=b                 a &lt;= b      a <![CDATA[<= ]]>b\n\n大于等于    a>=b                 a &gt;= b      a <![CDATA[>= ]]>b\n\n不等于     a!=b             a <![CDATA[ <> ]]>b      a <![CDATA[!= ]]>b\n                             \n\n")])])]),t("h3",{attrs:{id:"_1-有则update-无则insert"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-有则update-无则insert"}},[a._v("#")]),a._v(" 1 有则update - 无则insert")]),a._v(" "),t("p",[a._v("使用这个必须要有主键 ON DUPLICATE KEY UPDATE")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("INSERT INTO table (a,b,c) VALUES (1,2,3)\n  ON DUPLICATE KEY UPDATE c=4\n")])])]),t("h5",{attrs:{id:"_1-1-简单使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-简单使用"}},[a._v("#")]),a._v(" 1.1 简单使用")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('  insert into `enterprise_rectification_details`\n    <trim prefix="(" suffix=")" suffixOverrides=",">\n      <if test="id != null">\n        `id`,\n      </if>\n    </trim>\n    values\n    <trim prefix="(" suffix=")" suffixOverrides=",">\n      <if test="id != null">\n        #{id,jdbcType=BIGINT},\n      </if>\n    </trim>\n    on duplicate key update \n    <trim suffixOverrides=",">\n      <if test="id != null">\n        `id` = #{id,jdbcType=BIGINT},\n      </if>\n    </trim>\n  </insert>\n')])])]),t("h5",{attrs:{id:"_1-2-list集合的情况下使用mybatis配合on-duplicate-key-update"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-list集合的情况下使用mybatis配合on-duplicate-key-update"}},[a._v("#")]),a._v(" 1.2 list集合的情况下使用mybatis配合ON DUPLICATE KEY UPDATE")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('<insert id="insertOrUpdateCameraInfoByBatch" parameterType="java.util.List">\n      insert into camera_info(\n          zone1Id,zone1Name,zone2Id,zone2Name,zone3Id,zone3Name,zone4Id,zone4Name,\n          cameraId\n          )VALUES\n           <foreach collection ="list" item="cameraInfo" index= "index" separator =",">\n             (\n                #{cameraInfo.zone1Id}, #{cameraInfo.zone1Name}, #{cameraInfo.zone2Id},\n                #{cameraInfo.zone2Name}, #{cameraInfo.zone3Id}, #{cameraInfo.zone3Name},\n                #{cameraInfo.zone4Id}, #{cameraInfo.zone4Name}, \n                #{cameraInfo.cameraId}, \n             )\n           </foreach>\n           ON DUPLICATE KEY UPDATE\n          car_icon_id=values(carIconId), car_alias=values(carAlias)\n    </insert>\n')])])]),t("h3",{attrs:{id:"_2-坑"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-坑"}},[a._v("#")]),a._v(" 2 坑")]),a._v(" "),t("h5",{attrs:{id:"mapper"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mapper"}},[a._v("#")]),a._v(" mapper")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v(' 两种情况\n void relevantEmission(Map param);\n\n void relevantEmission(@Param("param") Map param);//这种会报错，xml找不到\n')])])]),t("h5",{attrs:{id:"xml"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#xml"}},[a._v("#")]),a._v(" xml")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('<insert id="relevantEmission" parameterType="java.util.Map">\n    insert into carbon_module_info\n    <trim prefix="(" suffix=")" suffixOverrides=",">\n        <if test="id != null">\n            `id`,\n        </if>\n        <if test="emissionName != null">\n            `emission_name`,\n        </if>\n    </trim>\n    <trim prefix="values (" suffix=")" suffixOverrides=",">\n        <if test="id != null">\n            #{id},\n        </if>\n        <if test="emissionName != null">\n            #{emissionName},\n        </if>\n    </trim>\n</insert>\n')])])]),t("h3",{attrs:{id:"_3-手动拼接sql循环插入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-手动拼接sql循环插入"}},[a._v("#")]),a._v(" 3 手动拼接SQL循环插入")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('<insert id="saveBatch” parameterType="java.util.List">\n\t<foreach collection="list" item="item" index="index" separator=",">\n\t\t(#(item.a), #(item.b),#litem.c, #item.d), #/item.el, #(item.f), #item.gh, #item.h), #/item.i), #(item.j), #(item.k)\n\t</foreach>\n</insert>\n')])])]),t("h3",{attrs:{id:"_4-判断是否存在返回boolean"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-判断是否存在返回boolean"}},[a._v("#")]),a._v(" 4 判断是否存在返回Boolean")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('<select id="isQuoteAccountingBoundary" resultType="java.lang.Boolean">\n    SELECT CASE WHEN COUNT(1) > 0 THEN true ELSE false END AS isQuote\n    FROM carbon_calculate_task\n    WHERE accounting_boundary_id = #{id}\n</select>\n')])])]),t("h3",{attrs:{id:"_5-where-in"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-where-in"}},[a._v("#")]),a._v(" 5 where in")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('<if test="ids != null and !ids.empty">\n    AND id IN\n    <foreach item="id" collection="ids" open="(" separator="," close=")">\n        #{id}\n    </foreach>\n</if>\n')])])]),t("h3",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#"}},[a._v("#")])])])}),[],!1,null,null,null);t.default=s.exports}}]);